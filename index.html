<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O ENIGMA - Est√°s Marcado!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Supabase SDK -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <script>
        // Configura√ß√£o do Supabase - Base de dados unificada
        const SUPABASE_URL = 'https://pbzwwnhslslqozucwdia.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBiend3bmhzbHNscW96dWN3ZGlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwMDY1ODksImV4cCI6MjA3MDU4MjU4OX0.VhRjLzGg6LwSdoZlzugAu2lGOAYHThDPdb2Q69MSKhU';
        
        // Inicializar cliente Supabase
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Fun√ß√£o para inicializar Supabase
        async function initializeSupabase() {
            try {
                console.log("üîÑ Iniciando Supabase...");
                
                // Verificar se o Supabase est√° dispon√≠vel
                if (!supabase) {
                    throw new Error("Supabase n√£o est√° dispon√≠vel");
                }
                
                console.log("‚úÖ Supabase inicializado com sucesso");
                return true;
                
            } catch (error) {
                console.error("‚ùå Erro na inicializa√ß√£o do Supabase:", error);
                return false;
            }
        }

        // Fun√ß√£o para verificar estado do portal e controlar visibilidade do formul√°rio
        async function checkPortalState() {
            try {
                console.log("üîç Verificando estado do portal de candidaturas...");
                
                const { data, error } = await supabase
                    .from('portal_candidaturas')
                    .select('*')
                    .limit(1);

                if (error) {
                    console.error("‚ùå Erro ao verificar estado do portal:", error);
                    return true; // Assumir que est√° aberto se n√£o conseguir verificar
                }

                if (data && data.length > 0) {
                    const portal = data[0];
                    
                    // Ocultar mostrar sec√ß√£o de candidatura baseado no estado
                    const candidaturaSection = document.querySelector('#candidatura');
                    const portalStatus = document.getElementById('portal-status');
                    
                    if (!portal.portal_aberto) {
                        // Portal fechado
                        if (candidaturaSection) {
                            candidaturaSection.style.display = 'none';
                        }
                        
                        // Mostrar mensagem de portal fechado substituindo o form
                        if (!portalStatus) {
                            const statusDiv = document.createElement('div');
                            statusDiv.id = 'portal-status';
                            statusDiv.style.cssText = 'text-align: center; padding: 40px; color: var(--cor-texto);';
                            statusDiv.innerHTML = `
                                <h2 style="color: var(--cor-erro); margin-bottom: 20px;">üîí Protocolo de Admiss√£o Temporariamente Encerrado</h2>
                                <p>${portal.mensagem_fechamento || 'Candidaturas temporariamente encerradas. Aguarde novidades.'}</p>
                            `;
                            
                            if (candidaturaSection) {
                                candidaturaSection.parentNode.insertBefore(statusDiv, candidaturaSection);
                            }
                        }
                        
                        return false;
                    } else {
                        // Portal aberto - garantir que se√ß√£o est√° vis√≠vel
                        if (candidaturaSection) {
                            candidaturaSection.style.display = 'block';
                        }
                        if (portalStatus) {
                            portalStatus.remove();
                        }
                        
                        // Atualizar t√≠tulos dinamicamente se configurados
                        if (portal.protocolo_titulo) {
                            const protocoloTitulo = candidaturaSection.querySelector('.section-title');
                            if (protocoloTitulo) protocoloTitulo.textContent = portal.protocolo_titulo;
                        }
                        
                        if (portal.protocolo_subtitulo) {
                            const protocoloSubtitulo = candidaturaSection.querySelector('.section-subtitle');
                            if (protocoloSubtitulo) protocoloSubtitulo.textContent = portal.protocolo_subtitulo;
                        }
                        
                        return true;
                    }
                }
                
                return true; // Assumir aberto se n√£o h√° dados
                
            } catch (error) {
                console.error("‚ùå Erro ao verificar portal:", error);
                return true; // Assumir que est√° aberto em caso de erro
            }
        }

        // Inicializar Supabase quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', async function() {
            console.log("üåê P√°gina carregada, inicializando Supabase...");
            
            // Mostrar o primeiro passo imediatamente (s√≥ se o portal estiver aberto)
            showStep(1);
            console.log("üìù Primeiro passo mostrado");
            
            // Verificar se o Supabase est√° dispon√≠vel
            if (typeof window.supabase === 'undefined') {
                console.error("‚ùå Supabase n√£o est√° carregado");
                alert("Erro: Supabase n√£o foi carregado. Verifique a sua liga√ß√£o √† internet.");
                return;
            }
            
            try {
                const supabaseReady = await initializeSupabase();
                
                if (supabaseReady) {
                    console.log("üöÄ Supabase pronto para uso");
                    
                    // Verificar estado do portal antes de mostrar formul√°rio
                    const portalAberto = await checkPortalState();
                    
                    if (portalAberto) {
                        // Agora √© seguro adicionar o event listener do formul√°rio
                        setupFormSubmission();
                        // Configurar valida√ß√£o em tempo real
                        setupFieldValidation();
                    }
                } else {
                    console.error("‚ùå Supabase n√£o conseguiu inicializar");
                    alert("Erro na configura√ß√£o. Por favor, recarregue a p√°gina.");
                }
            } catch (error) {
                console.error("‚ùå Erro cr√≠tico na inicializa√ß√£o:", error);
                alert("Erro cr√≠tico na configura√ß√£o. Por favor, recarregue a p√°gina ou contacte o suporte.");
            }
        });

        // Fun√ß√£o para validar campos em tempo real
        function setupFieldValidation() {
            const requiredFields = [
                'foto_rosto', 'foto_corpo', 'nome', 'alcunha', 'idade', 'profissao',
                'estilo', 'gatilho', 'reacao', 'lealdade', 'alvo',
                'manipulacao', 'erro', 'mentira', 'inseguranca', 'motivacao',
                'diferenca', 'objetivo', 'forte', 'fraqueza', 'conflito',
                'buzz', 'slogan', 'segredo'
            ];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.addEventListener('input', function() {
                        validateField(this);
                    });
                    field.addEventListener('blur', function() {
                        validateField(this);
                    });
                }
            });
        }

        // Fun√ß√£o para validar um campo individual
        function validateField(field) {
            const isValid = field.value && field.value.trim() !== '';
            
            if (isValid) {
                field.classList.remove('invalid');
                field.classList.add('valid');
            } else {
                field.classList.remove('valid');
                field.classList.add('invalid');
            }
        }

        // Fun√ß√£o para enviar logs detalhados para Discord
        async function sendDiscordLog(formData, docId) {
            try {
                // CONFIGURA√á√ÉO DO WEBHOOK DO DISCORD
                // 
                // COMO CONFIGURAR O WEBHOOK:
                // 1. Vai ao teu servidor Discord
                // 2. Clica com o bot√£o direito no canal onde queres receber os logs
                // 3. Seleciona "Editar Canal" > "Integra√ß√µes" > "Webhooks"
                // 4. Clica em "Criar Webhook"
                // 5. Copia a URL do webhook e substitui a linha abaixo
                // 
                // FORMATO DA URL: https://discord.com/api/webhooks/[ID]/[TOKEN]
                // 
                // IMPORTANTE: Mant√©m esta URL segura! N√£o a partilhes publicamente.
                const DISCORD_WEBHOOK_URL = "https://discord.com/api/webhooks/1415749716175618229/T_L89Y2jyivmvEvFOQ84OWcYIvZak8AM2O0gjkYm-_l__OBYpO4-Vdu9f7VPHflc0eIG";
                
                // Fun√ß√£o auxiliar para truncar texto longo
                function truncateText(text, maxLength = 200) {
                    if (!text) return 'N√£o fornecido';
                    return text.length > maxLength ? text.substring(0, maxLength) + "..." : text;
                }

                // Fun√ß√£o auxiliar para formatar URLs
                function formatUrl(url) {
                    if (!url || url.trim() === '') return 'N√£o fornecido';
                    return url.startsWith('http') ? url : `https://${url}`;
                }

                // Formata√ß√£o dos dados para o Discord - EMBED PRINCIPAL
                const discordEmbed = {
                    title: "üé≠ Nova Candidatura - O ENIGMA",
                    description: `**ID da Candidatura:** \`${docId}\`\n**Data de Envio:** ${new Date().toLocaleString('pt-PT')}`,
                    color: 0x00d4ff, // Cor neon ciano
                    fields: [
                        {
                            name: "üë§ Identifica√ß√£o",
                            value: `**Nome:** ${formData.nome}\n**Alcunha:** ${formData.alcunha}\n**Idade:** ${formData.idade}\n**Profiss√£o:** ${formData.profissao}`,
                            inline: true
                        },
                        {
                            name: "üéÆ Perfil de Jogo",
                            value: `**Estilo:** ${formData.estilo}\n**Gatilho:** ${formData.gatilho}\n**Rea√ß√£o:** ${formData.reacao}`,
                            inline: true
                        },
                        {
                            name: "üì± Redes Sociais (OOC)",
                            value: `**Twitch:** ${formatUrl(formData.twitch)}\n**YouTube:** ${formatUrl(formData.youtube)}\n**TikTok:** ${formData.tiktok || 'N√£o fornecido'}\n**Discord:** ${formData.discord || 'N√£o fornecido'}`,
                            inline: false
                        },
                        {
                            name: "üéØ Estrat√©gia",
                            value: `**Lealdade vs Dinheiro:** ${formData.lealdade}\n**Primeiro Alvo:** ${formData.alvo}`,
                            inline: true
                        },
                        {
                            name: "üí≠ Motiva√ß√£o",
                            value: truncateText(formData.motivacao, 150),
                            inline: false
                        },
                        {
                            name: "üé™ Slogan",
                            value: formData.slogan,
                            inline: true
                        }
                    ],
                    footer: {
                        text: "O ENIGMA - Sistema de Logs Autom√°tico",
                        icon_url: "https://i.ibb.co/CK6PtBWr/LOGOTIPOS-38.png"
                    },
                    timestamp: new Date().toISOString()
                };

                // EMBED DETALHADO - Respostas Completas
                const detailedEmbed = {
                    title: "üìã Respostas Detalhadas da Candidatura",
                    description: `**ID:** \`${docId}\` - Todas as respostas do formul√°rio`,
                    color: 0x9932cc, // Cor roxa
                    fields: [
                        {
                            name: "üé≠ T√©cnicas de Manipula√ß√£o",
                            value: `**Manipula√ß√£o:** ${truncateText(formData.manipulacao, 300)}\n**Erro:** ${truncateText(formData.erro, 300)}\n**Mentira:** ${truncateText(formData.mentira, 300)}\n**Inseguran√ßa:** ${truncateText(formData.inseguranca, 300)}`,
                            inline: false
                        },
                        {
                            name: "üéØ Objetivos e Diferen√ßas",
                            value: `**Diferen√ßa:** ${truncateText(formData.diferenca, 300)}\n**Objetivo:** ${truncateText(formData.objetivo, 300)}`,
                            inline: false
                        },
                        {
                            name: "üí™ Pontos Fortes e Fracos",
                            value: `**Ponto Forte:** ${truncateText(formData.forte, 300)}\n**Fraqueza:** ${truncateText(formData.fraqueza, 300)}\n**Conflito:** ${truncateText(formData.conflito, 300)}`,
                            inline: false
                        },
                        {
                            name: "üî• Buzz e Segredos",
                            value: `**Buzz:** ${truncateText(formData.buzz, 300)}\n**Segredo:** ${truncateText(formData.segredo, 300)}`,
                            inline: false
                        }
                    ],
                    footer: {
                        text: "O ENIGMA - Respostas Completas",
                        icon_url: "https://i.ibb.co/CK6PtBWr/LOGOTIPOS-38.png"
                    },
                    timestamp: new Date().toISOString()
                };

                // EMBED DE FOTOS
                const photosEmbed = {
                    title: "üì∏ Fotos da Candidatura",
                    description: `**ID:** \`${docId}\` - Links das fotos fornecidas`,
                    color: 0xff6b35, // Cor laranja
                    fields: [
                        {
                            name: "üñºÔ∏è Fotos Fornecidas",
                            value: `**Foto do Rosto:** ${formatUrl(formData.foto_rosto)}\n**Foto do Corpo:** ${formatUrl(formData.foto_corpo)}`,
                            inline: false
                        }
                    ],
                    footer: {
                        text: "O ENIGMA - Fotos da Candidatura",
                        icon_url: "https://i.ibb.co/CK6PtBWr/LOGOTIPOS-38.png"
                    },
                    timestamp: new Date().toISOString()
                };

                // Dados para enviar ao Discord
                const discordPayload = {
                    username: "O ENIGMA Bot",
                    avatar_url: "https://i.ibb.co/CK6PtBWr/LOGOTIPOS-38.png",
                    embeds: [discordEmbed, detailedEmbed, photosEmbed]
                };

                // Enviar para o Discord
                const response = await fetch(DISCORD_WEBHOOK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(discordPayload)
                });

                if (response.ok) {
                    console.log("‚úÖ Log detalhado enviado para Discord com sucesso");
                } else {
                    console.error("‚ùå Erro ao enviar log para Discord:", response.status, response.statusText);
                }

            } catch (error) {
                console.error("‚ùå Erro ao enviar log para Discord:", error);
                // N√£o interrompe o processo principal se o Discord falhar
            }
        }

        // Fun√ß√£o para configurar o envio do formul√°rio (s√≥ executada ap√≥s Supabase estar pronto)
        function setupFormSubmission() {
            console.log("üîß Configurando envio do formul√°rio...");
            const form = document.getElementById('castingForm');
            console.log("üìù Formul√°rio encontrado:", form);
            
            if (!form) {
                console.error("‚ùå Formul√°rio n√£o encontrado!");
                return;
            }
            
            form.addEventListener('submit', async function(e) {
                console.log("üöÄ Formul√°rio submetido!");
                e.preventDefault();

                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.disabled = true;
                submitBtn.textContent = "A enviar...";

                try {
                    // Verificar se o Supabase est√° dispon√≠vel
                    if (!supabase) {
                        throw new Error("Supabase n√£o est√° dispon√≠vel");
                    }

                    // Validar todos os campos obrigat√≥rios
                    const requiredFields = [
                        'foto_rosto', 'foto_corpo', 'nome', 'alcunha', 'idade', 'profissao',
                        'estilo', 'gatilho', 'reacao', 'lealdade', 'alvo',
                        'manipulacao', 'erro', 'mentira', 'inseguranca', 'motivacao',
                        'diferenca', 'objetivo', 'forte', 'fraqueza', 'conflito',
                        'buzz', 'slogan', 'segredo'
                    ];

                    const missingFields = [];
                    requiredFields.forEach(fieldId => {
                        const field = document.getElementById(fieldId);
                        if (field && (!field.value || field.value.trim() === '')) {
                            missingFields.push(fieldId);
                        }
                    });

                    if (missingFields.length > 0) {
                        throw new Error(`Por favor, preencha todos os campos obrigat√≥rios: ${missingFields.join(', ')}`);
                    }

                    // Obter URLs das fotos (j√° s√£o strings)
                    const fotoRostoURL = document.getElementById('foto_rosto').value.trim();
                    const fotoCorpoURL = document.getElementById('foto_corpo').value.trim();

                    // Validar URLs
                    if (!fotoRostoURL || !fotoCorpoURL) {
                        throw new Error("Por favor, forne√ßa links v√°lidos para ambas as fotografias");
                    }

                    // Validar formato das URLs
                    const urlPattern = /^https?:\/\/.+/;
                    if (!urlPattern.test(fotoRostoURL) || !urlPattern.test(fotoCorpoURL)) {
                        throw new Error("Por favor, forne√ßa URLs v√°lidas come√ßando com http:// ou https://");
                    }

                    const formData = {};
                    new FormData(this).forEach((value, key) => {
                        formData[key] = value;
                    });
                    
                    // Adicionar URLs das fotos e metadados
                    formData.foto_rosto = fotoRostoURL;
                    formData.foto_corpo = fotoCorpoURL;
                    formData.data_envio = new Date().toISOString();

                    console.log("üì§ Enviando dados para Supabase...");
                    console.log("üìä Dados do formul√°rio:", formData);
                    
                    const { data, error } = await supabase
                        .from('candidaturas')
                        .insert([formData])
                        .select();
                    
                    if (error) {
                        throw new Error(`Erro do Supabase: ${error.message}`);
                    }
                    
                    console.log("‚úÖ Candidatura criada com ID:", data[0].id);

                    // Enviar log para Discord em paralelo (n√£o bloqueia o processo principal)
                    console.log("üì® Enviando log para Discord...");
                    sendDiscordLog(formData, data[0].id);

                    alert("üéâ CANDIDATURA ENVIADA COM SUCESSO!\n\nID da candidatura: " + data[0].id + "\n\nObrigado por participar no casting de O ENIGMA!");
                    
                    // Reset do formul√°rio
                    this.reset();
                    console.log("üîÑ Formul√°rio resetado");
                    
                    // Voltar ao primeiro passo
                    currentStep = 1;
                    showStep(1);
                    console.log("üè† Voltou ao primeiro passo");
                } catch (error) {
                    console.error("‚ùå Erro ao enviar candidatura:", error);
                    
                    let errorMessage = "‚ùå Ocorreu um erro ao enviar a candidatura.\n\n";
                    
                    if (error.message.includes("Supabase n√£o est√° dispon√≠vel")) {
                        errorMessage += "Erro: Problema de conex√£o com a base de dados. Por favor, recarregue a p√°gina.";
                    } else if (error.message.includes("campos obrigat√≥rios")) {
                        errorMessage += "Erro: " + error.message;
                    } else if (error.message.includes("URLs v√°lidas")) {
                        errorMessage += "Erro: " + error.message;
                    } else if (error.message.includes("Supabase")) {
                        errorMessage += "Erro de conex√£o com a base de dados. Verifique a sua liga√ß√£o √† internet.";
                    } else {
                        errorMessage += "Detalhes: " + error.message;
                    }
                    
                    alert(errorMessage);
                }

                submitBtn.disabled = false;
                submitBtn.textContent = "Submeter Candidatura";
            });
        }
    </script>

    <style>
        :root {
            --cor-fundo: #0a0a0f;
            --cor-card: #1a1a2e;
            --cor-texto: #e0e0e0;
            --cor-texto-secundario: #a0a0a0;
            --cor-neon-ciano: #00d4ff;
            --cor-neon-magenta: #ff00ff;
            --cor-borda: rgba(0, 212, 255, 0.2);
            --cor-erro: #ff4757;
            --cor-sucesso: #2ed573;
            --fonte-titulo: 'Orbitron', sans-serif;
            --fonte-corpo: 'Inter', sans-serif;
            --sombra-neon: 0 0 20px rgba(0, 212, 255, 0.3);
            --sombra-card: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: var(--cor-fundo);
            color: var(--cor-texto);
            font-family: var(--fonte-corpo);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* NAVEGA√á√ÉO */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--cor-borda);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .navbar.scrolled {
            background: rgba(10, 10, 15, 0.98);
            box-shadow: var(--sombra-neon);
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .nav-logo {
            font-family: var(--fonte-titulo);
            font-size: 2rem;
            font-weight: 900;
            color: var(--cor-neon-ciano);
            text-decoration: none;
            text-shadow: 0 0 10px var(--cor-neon-ciano);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-logo img {
            height: 40px;
            width: auto;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--cor-texto);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--cor-neon-magenta);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-links a:hover {
            color: var(--cor-neon-magenta);
        }

        .nav-links .watch-live-btn {
            background: linear-gradient(135deg, var(--cor-neon-magenta), var(--cor-neon-ciano));
            color: #fff;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            border: none;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .nav-links .watch-live-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .nav-links .watch-live-btn:hover::before {
            left: 100%;
        }

        .nav-links .watch-live-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(255, 0, 255, 0.5);
        }

        /* HERO SECTION */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: linear-gradient(135deg, rgba(10, 10, 15, 0.8) 0%, rgba(26, 26, 46, 0.8) 100%), url('https://i.ibb.co/Q3H3vq7R/Sem-t-tulo.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(0,212,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-title {
            font-family: var(--fonte-titulo);
            font-size: clamp(3rem, 8vw, 8rem);
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 30px var(--cor-neon-ciano);
            margin-bottom: 1rem;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 30px var(--cor-neon-ciano); }
            to { text-shadow: 0 0 40px var(--cor-neon-ciano), 0 0 60px var(--cor-neon-ciano); }
        }

        .hero-subtitle {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            color: var(--cor-neon-magenta);
            margin-bottom: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(45deg, var(--cor-neon-ciano), var(--cor-neon-magenta));
            color: #fff;
            padding: 1rem 3rem;
            font-family: var(--fonte-titulo);
            font-size: 1.2rem;
            text-decoration: none;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: var(--sombra-neon);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.4);
        }

        /* COUNTDOWN TIMERS */
        .countdown-container {
            display: flex;
            gap: 3rem;
            justify-content: center;
            margin: 3rem 0;
            flex-wrap: wrap;
        }

        .countdown-timer {
            text-align: center;
            background: rgba(26, 26, 46, 0.8);
            border: 1px solid var(--cor-borda);
            border-radius: 15px;
            padding: 2rem;
            backdrop-filter: blur(10px);
            min-width: 280px;
        }

        .countdown-timer h3 {
            color: var(--cor-neon-magenta);
            font-family: var(--fonte-titulo);
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .countdown-display {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .countdown-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 60px;
        }

        .countdown-number {
            font-family: var(--fonte-titulo);
            font-size: 2rem;
            font-weight: bold;
            color: var(--cor-neon-ciano);
            text-shadow: 0 0 10px var(--cor-neon-ciano);
            line-height: 1;
        }

        .countdown-label {
            font-size: 0.8rem;
            color: var(--cor-texto-secundario);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 0.5rem;
        }

        .countdown-status {
            color: var(--cor-texto);
            font-size: 1rem;
            margin: 0;
            font-style: italic;
        }

        /* SECTIONS */
        .section {
            padding: 6rem 0;
        }

        .section-title {
            font-family: var(--fonte-titulo);
            font-size: clamp(2.5rem, 5vw, 4rem);
            text-align: center;
            margin-bottom: 3rem;
            color: #fff;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--cor-neon-ciano), var(--cor-neon-magenta));
        }

        .section-subtitle {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 4rem;
            font-size: 1.2rem;
            color: var(--cor-texto-secundario);
        }

        /* CARDS */
        .card {
            background: var(--cor-card);
            border: 1px solid var(--cor-borda);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--sombra-card);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
        }

        .card h3 {
            color: var(--cor-neon-ciano);
            font-family: var(--fonte-titulo);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .grid {
            display: grid;
            gap: 2rem;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        /* FORMUL√ÅRIO */
        .form-container {
            background: var(--cor-card);
            border: 1px solid var(--cor-borda);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: var(--sombra-card);
        }

        .form-step {
            display: none;
        }

        .form-step.active {
            display: block !important;
            animation: fadeIn 0.5s ease;
            position: relative;
            z-index: 1;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-step h3 {
            color: var(--cor-neon-magenta);
            font-family: var(--fonte-titulo);
            text-align: center;
            margin-bottom: 2rem;
            font-size: 1.8rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--cor-neon-ciano);
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--cor-borda);
            border-radius: 8px;
            color: var(--cor-texto);
            font-family: var(--fonte-corpo);
            transition: all 0.3s ease;
        }

        /* Estilos espec√≠ficos para menus de sele√ß√£o */
        .form-group select {
            background: #1a1a1a;
            color: #ffffff;
            cursor: pointer;
            border: 1px solid #333;
        }

        .form-group select option {
            background: #1a1a1a;
            color: #ffffff;
            padding: 8px;
            border: none;
        }

        .form-group select option:hover {
            background: #333333;
            color: #ffffff;
        }

        .form-group select option:checked {
            background: var(--cor-neon-ciano);
            color: #000000;
            font-weight: bold;
        }

        /* Estilos para o dropdown quando aberto */
        .form-group select:focus {
            background: #1a1a1a;
            color: #ffffff;
            border-color: var(--cor-neon-ciano);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--cor-neon-ciano);
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }

        /* Estilos para campos obrigat√≥rios inv√°lidos */
        .form-group input:invalid,
        .form-group textarea:invalid,
        .form-group select:invalid {
            border-color: var(--cor-erro);
            box-shadow: 0 0 10px rgba(255, 71, 87, 0.3);
        }

        .form-group input:invalid:focus,
        .form-group textarea:invalid:focus,
        .form-group select:invalid:focus {
            border-color: var(--cor-erro);
            box-shadow: 0 0 15px rgba(255, 71, 87, 0.5);
        }

        /* Estilos para campos obrigat√≥rios v√°lidos */
        .form-group input:valid,
        .form-group textarea:valid,
        .form-group select:valid {
            border-color: var(--cor-sucesso);
            box-shadow: 0 0 5px rgba(46, 213, 115, 0.2);
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 8px;
            font-family: var(--fonte-corpo);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: var(--cor-neon-ciano);
            color: #000;
            position: relative;
            z-index: 1000;
            pointer-events: auto !important;
            cursor: pointer !important;
        }

        .btn-primary:hover {
            background: #00b8e6;
            transform: translateY(-2px);
        }

        /* Estilo espec√≠fico para o bot√£o de submit */
        button[type="submit"] {
            pointer-events: auto !important;
            cursor: pointer !important;
            position: relative;
            z-index: 1000;
            background: var(--cor-neon-ciano) !important;
            color: #000 !important;
            border: none !important;
            padding: 0.8rem 2rem !important;
            border-radius: 8px !important;
            font-weight: 600 !important;
            transition: all 0.3s ease !important;
        }

        button[type="submit"]:hover {
            background: #00b8e6 !important;
            transform: translateY(-2px) !important;
        }

        /* Garantir que todos os bot√µes sejam clic√°veis */
        .form-navigation button {
            pointer-events: auto !important;
            cursor: pointer !important;
            position: relative;
            z-index: 1000;
        }

        /* Garantir que o formul√°rio seja clic√°vel */
        #castingForm {
            pointer-events: auto !important;
            position: relative;
            z-index: 1;
        }

        /* Garantir que todos os elementos do formul√°rio sejam clic√°veis */
        .form-step.active * {
            pointer-events: auto !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary {
            pointer-events: auto !important;
            cursor: pointer !important;
            position: relative;
            z-index: 9999 !important;
            background: var(--cor-neon-ciano) !important;
            color: #000 !important;
            border: none !important;
            padding: 0.8rem 2rem !important;
            border-radius: 8px !important;
            font-weight: 600 !important;
            transition: all 0.3s ease !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:hover {
            background: #00b8e6 !important;
            transform: translateY(-2px) !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:active {
            background: #0099cc !important;
            transform: translateY(0) !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:focus {
            outline: 2px solid var(--cor-neon-magenta) !important;
            outline-offset: 2px !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:disabled {
            background: #666 !important;
            color: #999 !important;
            cursor: not-allowed !important;
            transform: none !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:enabled {
            background: var(--cor-neon-ciano) !important;
            color: #000 !important;
            cursor: pointer !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:not(:disabled) {
            background: var(--cor-neon-ciano) !important;
            color: #000 !important;
            cursor: pointer !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:not([disabled]) {
            background: var(--cor-neon-ciano) !important;
            color: #000 !important;
            cursor: pointer !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:not([disabled]):hover {
            background: #00b8e6 !important;
            transform: translateY(-2px) !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:not([disabled]):active {
            background: #0099cc !important;
            transform: translateY(0) !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:not([disabled]):focus {
            outline: 2px solid var(--cor-neon-magenta) !important;
            outline-offset: 2px !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:not([disabled]):focus-visible {
            outline: 2px solid var(--cor-neon-magenta) !important;
            outline-offset: 2px !important;
        }

        /* Garantir que o bot√£o de submit seja sempre clic√°vel */
        button[type="submit"].btn-primary:not([disabled]):focus-within {
            outline: 2px solid var(--cor-neon-magenta) !important;
            outline-offset: 2px !important;
        }

        .btn-secondary {
            background: transparent;
            color: var(--cor-neon-magenta);
            border: 1px solid var(--cor-neon-magenta);
        }

        .btn-secondary:hover {
            background: var(--cor-neon-magenta);
            color: #000;
        }

        /* Estilos para o √≠cone de informa√ß√£o e tooltip */
        .info-icon {
            display: inline-block;
            width: 18px;
            height: 18px;
            background: var(--cor-primaria);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 18px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 8px;
            cursor: help;
            position: relative;
            transition: all 0.3s ease;
        }

        .info-icon:hover {
            background: var(--cor-secundaria);
            transform: scale(1.1);
        }

        .info-icon[data-tooltip]:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 3px 6px;
            border-radius: 6px;
            font-size: 12px;
            line-height: 1.1;
            z-index: 1000;
            margin-bottom: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
            max-width: 500px;
            min-width: 400px;
            white-space: pre-line;
            text-align: left;
            font-weight: normal;
        }

        .info-icon[data-tooltip]:hover::before {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: rgba(0, 0, 0, 0.9);
            margin-bottom: 2px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cor-neon-ciano), var(--cor-neon-magenta));
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--cor-card);
            border: 1px solid var(--cor-borda);
            border-radius: 15px;
            padding: 2rem;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
        }

        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            cursor: pointer;
            color: var(--cor-texto-secundario);
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: var(--cor-erro);
        }

        /* FOOTER */
        footer {
            background: var(--cor-card);
            border-top: 1px solid var(--cor-borda);
            padding: 3rem 0;
            text-align: center;
        }

        .footer-links {
            margin-bottom: 2rem;
        }

        .footer-links a {
            color: var(--cor-texto);
            text-decoration: none;
            margin: 0 1rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--cor-neon-ciano);
        }

        .social-links {
            margin: 2rem 0;
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 1.5rem;
            background: rgba(26, 26, 46, 0.8);
            border: 2px solid transparent;
            border-radius: 15px;
            text-decoration: none;
            color: var(--cor-texto);
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .social-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .social-link:hover::before {
            left: 100%;
        }

        .social-icon {
            width: 24px;
            height: 24px;
            transition: all 0.3s ease;
        }

        .social-link.youtube {
            border-color: #ff0000;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.2);
        }

        .social-link.youtube:hover {
            background: rgba(255, 0, 0, 0.1);
            border-color: #ff0000;
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.4);
            transform: translateY(-3px);
        }

        .social-link.youtube .social-icon {
            color: #ff0000;
        }

        .social-link.youtube:hover .social-icon {
            transform: scale(1.2);
        }

        .social-link.twitch {
            border-color: #9146ff;
            box-shadow: 0 0 20px rgba(145, 70, 255, 0.2);
        }

        .social-link.twitch:hover {
            background: rgba(145, 70, 255, 0.1);
            border-color: #9146ff;
            box-shadow: 0 0 30px rgba(145, 70, 255, 0.4);
            transform: translateY(-3px);
        }

        .social-link.twitch .social-icon {
            color: #9146ff;
        }

        .social-link.twitch:hover .social-icon {
            transform: scale(1.2);
        }

        .social-link.tiktok {
            border-color: #ff0050;
            box-shadow: 0 0 20px rgba(255, 0, 80, 0.2);
        }

        .social-link.tiktok:hover {
            background: rgba(255, 0, 80, 0.1);
            border-color: #ff0050;
            box-shadow: 0 0 30px rgba(255, 0, 80, 0.4);
            transform: translateY(-3px);
        }

        .social-link.tiktok .social-icon {
            color: #ff0050;
        }

        .social-link.tiktok:hover .social-icon {
            transform: scale(1.2);
        }

        /* RESPONSIVIDADE */
        @media (max-width: 768px) {
            .nav-links {
                gap: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .nav-links .watch-live-btn {
                font-size: 0.9rem;
                padding: 0.6rem 1.2rem;
            }
            
            .hero-title {
                font-size: 4rem;
            }
            
            .form-container {
                padding: 2rem 1rem;
            }
            
            .grid-2,
            .grid-3 {
                grid-template-columns: 1fr;
            }

            .social-links {
                gap: 1rem;
                flex-direction: column;
                align-items: center;
            }

            .social-link {
                width: 250px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- NAVEGA√á√ÉO -->
    <nav class="navbar" id="navbar">
        <div class="container">
            <div class="nav-content">
                <a href="#hero" class="nav-logo">
                    <img src="https://i.ibb.co/CK6PtBWr/LOGOTIPOS-38.png" alt="ENIGMA Logo">
                    O ENIGMA
                </a>
                <div class="nav-links">
                    <a href="#conceito">Conceito</a>
                    <a href="#casa">A Casa</a>
                    <a href="#enigma">O Enigma</a>
                    <a href="#regras">Regras</a>
                    <a href="#candidatura">Candidatura</a>
                    <a href="https://www.twitch.tv/tiobixa" target="_blank" class="watch-live-btn">üî¥ ASSISTIR EM DIRETO</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="hero" id="hero">
        <div class="hero-content">
            <h1 class="hero-title">O ENIGMA</h1>
            <p class="hero-subtitle">Est√°s Marcado!</p>
            <p class="hero-subtitle" style="font-size: 1.1rem; margin-top: 1rem;">
                                       12 concorrentes. 5 dias. Segredos Inacredit√°veis.<br>
                       Est√°s pronto para sobreviver na Casa do Enigma?
            </p>
            
            <!-- COUNTDOWN TIMERS -->
            <div class="countdown-container">
                <div class="countdown-timer">
                    <h3>Candidaturas</h3>
                    <div class="countdown-display" id="candidaturas-countdown">
                        <div class="countdown-item">
                            <span class="countdown-number" id="candidaturas-days">00</span>
                            <span class="countdown-label">Dias</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="candidaturas-hours">00</span>
                            <span class="countdown-label">Horas</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="candidaturas-minutes">00</span>
                            <span class="countdown-label">Minutos</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="candidaturas-seconds">00</span>
                            <span class="countdown-label">Segundos</span>
                        </div>
                    </div>
                    <p class="countdown-status" id="candidaturas-status">Abrindo em breve...</p>
                </div>
                
                <div class="countdown-timer">
                    <h3>Estreia</h3>
                    <div class="countdown-display" id="estreia-countdown">
                        <div class="countdown-item">
                            <span class="countdown-number" id="estreia-days">00</span>
                            <span class="countdown-label">Dias</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="estreia-hours">00</span>
                            <span class="countdown-label">Horas</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="estreia-minutes">00</span>
                            <span class="countdown-label">Minutos</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="estreia-seconds">00</span>
                            <span class="countdown-label">Segundos</span>
                        </div>
                    </div>
                    <p class="countdown-status" id="estreia-status">A estreia est√° a chegar...</p>
                    <a href="https://cfx.re/join/8lla53" target="_blank" rel="noopener noreferrer" class="server-badge" style="background: linear-gradient(45deg, #1e3a8a, #3b82f6); color: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: bold; margin-top: 1rem; display: inline-block; text-transform: uppercase; letter-spacing: 1px; text-decoration: none; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 15px rgba(59, 130, 246, 0.4)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'">
                        üéÆ Atlantic Roleplay
                    </a>
                </div>
            </div>
            
            <a href="#candidatura" class="cta-button">Candidatar-me Agora</a>
        </div>
    </section>

    <!-- CONCEITO -->
    <section class="section" id="conceito">
        <div class="container">
            <h2 class="section-title">O Conceito</h2>
            <p class="section-subtitle">
                O ENIGMA n√£o √© um reality show. √â um interrogat√≥rio psicol√≥gico de cinco dias onde 12 indiv√≠duos 
                s√£o confinados numa mans√£o de luxo, cada um guardando um segredo pessoal devastador.
            </p>
            
            <!-- V√≠deo Oficial -->
            <div class="video-container" style="margin: 2rem 0; text-align: center; max-width: 100%; position: relative; width: 100%; height: 0; padding-bottom: 56.25%;">
                <iframe 
                    src="https://www.youtube.com/embed/dXEPtlV0PW8" 
                    title="ENIGMA - V√≠deo Oficial" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
                </iframe>
            </div>
            
            <div class="grid grid-3">
                <div class="card">
                    <h3>üé≠ O Jogo</h3>
                    <p>Protege o teu segredo, acumula Enigma Coins (que valem dinheiro dentro do servidor), e sobrevive √†s elimina√ß√µes di√°rias. Cada a√ß√£o √© monitorizada, cada palavra analisada.</p>
                </div>
                <div class="card">
                    <h3>üëÅÔ∏è O Enigma</h3>
                    <p>Uma entidade omnisciente e s√°dica que controla o jogo. A sua voz √© a lei. Define provas, atribui miss√µes e comunica com os jogadores.</p>
                </div>
                <div class="card">
                    <h3>üïµÔ∏è O Infiltrado</h3>
                    <p>Um dos 12 concorrentes √© um ator secretamente a trabalhar para o Enigma, com um segredo falso e miss√µes de sabotagem.</p>
                </div>
            </div>

            <div class="grid grid-2" style="margin-top: 3rem;">
                <div class="card">
                    <h3>üéØ Objetivo</h3>
                    <p>O objetivo n√£o √© fazer amigos, √© sobreviver. Descobrir o segredo de um rival pode levar-te √† gl√≥ria; ter o teu exposto significa a ru√≠na.</p>
                </div>
                <div class="card">
                    <h3>üë• Interatividade</h3>
                    <p>O p√∫blico √© um participante ativo, usando "Enigma Points" no canal da Twitch (@tiobixa) para influenciar o jogo e decidir elimina√ß√µes.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- A CASA -->
    <section class="section" id="casa" style="background: linear-gradient(135deg, rgba(10, 10, 15, 0.9) 0%, rgba(26, 26, 46, 0.9) 100%), url('https://i.ibb.co/dswt1Cdz/Five-M-b2699-GTAProcess-2023-09-26-01-39-35.png'); background-size: cover; background-position: center; background-attachment: fixed;">
        <div class="container">
            <h2 class="section-title">A Casa do Enigma</h2>
            <p class="section-subtitle">
                Localizada em Grapeseed com vista para o Alamo Sea, a Casa do Enigma √© uma fortaleza de luxo e paranoia. 
                Este n√£o √© um lar. √â um tabuleiro de jogo.
            </p>
            
            <div class="grid grid-2">
                <div class="card">
                    <h3>üè† √Åreas Principais</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.5rem;">‚Ä¢ <strong>Exteriores:</strong> Piscina, Minibar, Antec√¢mara, Heliporto</li>
                        <li style="margin-bottom: 0.5rem;">‚Ä¢ <strong>Interiores:</strong> Quartos Comuns, Quarto do L√≠der, Sala Principal</li>
                        <li style="margin-bottom: 0.5rem;">‚Ä¢ <strong>Especiais:</strong> Cozinha, Despensa, Confession√°rio, CallCenter</li>
                                                   <li style="margin-bottom: 0.5rem;">‚Ä¢ <strong>Arena:</strong> Espa√ßo modular para provas internas</li>
                        
                    </ul>
                </div>
                <div class="card">
                    <h3>üó∫Ô∏è Mapa da Casa</h3>
                    <p>O mapa detalhado da Casa do Enigma ser√° revelado aos concorrentes selecionados. Cada √°rea tem o seu prop√≥sito estrat√©gico e pode ser a chave para a sobreviv√™ncia.</p>
                    <div style="background: rgba(0,212,255,0.1); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <strong>üí° Dica:</strong> Conhece o teu territ√≥rio. Cada canto da casa pode esconder uma vantagem ou uma armadilha.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- O ENIGMA -->
    <section class="section" id="enigma" style="background: linear-gradient(135deg, rgba(10, 10, 15, 0.9) 0%, rgba(26, 26, 46, 0.9) 100%), url('https://i.ibb.co/Vpkqyrpw/Bem-vindos-ao-canal-moderno-rosa-intro-youtube-video-7.gif'); background-size: cover; background-position: center; background-attachment: fixed;">
        <div class="container">
            <h2 class="section-title">O Enigma</h2>
            <p class="section-subtitle">
                A entidade soberana que rege a Casa e o Jogo. As suas ordens s√£o absolutas, inquestion√°veis e n√£o pass√≠veis de recurso.
            </p>
            
            <div class="grid grid-2">
                <div class="card">
                    <h3>üëÅÔ∏è O Poder</h3>
                    <p>O Enigma v√™ tudo, sabe tudo, controla tudo. A sua voz √© a √∫nica lei na Casa. Recusar uma ordem direta resulta em san√ß√µes imediatas.</p>
                </div>
                <div class="card">
                    <h3>üé≠ O Jogo</h3>
                    <p>Define provas, atribui miss√µes e comunica com os jogadores. Cada decis√£o √© calculada para maximizar o drama e a tens√£o psicol√≥gica.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- REGRAS -->
    <section class="section" id="regras">
        <div class="container">
            <h2 class="section-title">Os 10 Mandamentos do Enigma</h2>
            <p class="section-subtitle">
                As leis da Casa s√£o poucas, mas absolutas. Viol√°-las n√£o resulta em aviso. Resulta em elimina√ß√£o.
            </p>
            
            <div class="grid grid-2">
                <div class="card">
                    <h3>üìú Mandamentos Principais</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.8rem;">‚Ä¢ <strong>Soberania:</strong> Eu sou o Enigma. A minha voz √© a √∫nica lei.</li>
                        <li style="margin-bottom: 0.8rem;">‚Ä¢ <strong>Segredo:</strong> O teu segredo √© a tua alma. Protege-o com a tua vida.</li>
                        <li style="margin-bottom: 0.8rem;">‚Ä¢ <strong>Comunica√ß√£o:</strong> N√£o invocar√°s o meu nome em v√£o. S√≥ eu inicio o contacto.</li>
                        <li style="margin-bottom: 0.8rem;">‚Ä¢ <strong>Jogo:</strong> Honrar√°s o jogo acima de tudo. A trai√ß√£o √© uma arte que aprecio.</li>
                        <li>‚Ä¢ <strong>Confession√°rio:</strong> N√£o mentir√°s no Confession√°rio. Comigo, a tua verdade √© nua.</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>‚öñÔ∏è Regras da Casa</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.8rem;">‚Ä¢ <strong>Isolamento Total:</strong> Comunica√ß√£o com o exterior √© proibida</li>
                        <li style="margin-bottom: 0.8rem;">‚Ä¢ <strong>Participa√ß√£o Obrigat√≥ria:</strong> Presen√ßa em provas e galas √© inegoci√°vel</li>
                        <li style="margin-bottom: 0.8rem;">‚Ä¢ <strong>Respeito:</strong> Discurso de √≥dio ou agress√£o resultam em expuls√£o</li>
                        <li style="margin-bottom: 0.8rem;">‚Ä¢ <strong>Tarefas:</strong> Todos devem realizar as tarefas designadas</li>
                        <li>‚Ä¢ <strong>Sil√™ncio:</strong> A discri√ß√£o √© uma vantagem estrat√©gica</li>
                    </ul>
                </div>
            </div>

            <div class="card" style="margin-top: 2rem;">
                <h3>üí∞ Sistema de Recompensas</h3>
                <div class="grid grid-3" style="margin-top: 1rem;">
                    <div style="text-align: center;">
                        <h4 style="color: var(--cor-neon-ciano); margin-bottom: 0.5rem;">Pote Comum</h4>
                        <p>Em cada prova, todos os concorrentes acumulam ou perdem dinheiro do pote comum</p>
                    </div>
                    <div style="text-align: center;">
                        <h4 style="color: var(--cor-neon-magenta); margin-bottom: 0.5rem;">Recompensas</h4>
                        <p>Participa nas provas ao longo do dia para garantir dinheiro para o pr√©mio final</p>
                    </div>
                    <div style="text-align: center;">
                        <h4 style="color: var(--cor-neon-ciano); margin-bottom: 0.5rem;">Pr√©mio Final</h4>
                        <p>Todo o valor acumulado em jogo ser√° distribu√≠do entre os concorrentes na final</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CANDIDATURA -->
    <section class="section" id="candidatura">
        <div class="container">
            <h2 class="section-title">Protocolo de Admiss√£o</h2>
            <p class="section-subtitle">
                Bem-vindo ao primeiro passo para entrar na Casa do Enigma. Este question√°rio √© a sua primeira prova. 
                N√£o h√° respostas certas ou erradas, mas a honestidade ser√° a sua melhor ferramenta.
            </p>
            
            <div class="form-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <form id="castingForm">
                    <!-- PASSO 1 -->
                    <div id="step1" class="form-step active">
                        <h3>PASSO 1/7: IDENTIFICA√á√ÉO</h3>
                        <div class="grid grid-2">
                            <div class="form-group">
                                <label for="foto_rosto">
                                    Link da Fotografia de Rosto (Tipo Passe) (DENTRO DE PERSONAGEM)
                                    <span class="info-icon" data-tooltip="üì∏ Como fazer upload no ImgBB:

1Ô∏è‚É£ V√° para imgbb.com
2Ô∏è‚É£ Arraste a foto para a p√°gina ou clique em 'Start uploading'
3Ô∏è‚É£ Aguarde o upload e copie o link fornecido
4Ô∏è‚É£ Cole aqui no formul√°rio

üí° Sem conta necess√°ria!">‚ìò</span>
                                </label>
                                <input type="url" id="foto_rosto" name="foto_rosto" placeholder="https://exemplo.com/foto.jpg" required>
                                <small style="color: var(--cor-texto-secundario); font-size: 0.9rem; margin-top: 0.5rem; display: block;">
                                    üí° <strong>Servi√ßos gratuitos recomendados:</strong><br>
                                    ‚Ä¢ <strong>Imgur:</strong> imgur.com (upload direto, sem conta)<br>
                                    ‚Ä¢ <strong>ImgBB:</strong> imgbb.com (upload direto, sem conta)<br>
                                    ‚Ä¢ <strong>Google Drive:</strong> Partilhe a imagem e use o link direto
                                </small>
                            </div>
                            <div class="form-group">
                                <label for="foto_corpo">
                                    Link da Fotografia de Corpo Inteiro (DENTRO DE PERSONAGEM)
                                    <span class="info-icon" data-tooltip="üì∏ Como fazer upload no ImgBB:

1Ô∏è‚É£ V√° para imgbb.com
2Ô∏è‚É£ Arraste a foto para a p√°gina ou clique em 'Start uploading'
3Ô∏è‚É£ Aguarde o upload e copie o link fornecido
4Ô∏è‚É£ Cole aqui no formul√°rio

üí° Sem conta necess√°ria!">‚ìò</span>
                                </label>
                                <input type="url" id="foto_corpo" name="foto_corpo" placeholder="https://exemplo.com/foto.jpg" required>
                                <small style="color: var(--cor-texto-secundario); font-size: 0.9rem; margin-top: 0.5rem; display: block;">
                                    üí° <strong>Servi√ßos gratuitos recomendados:</strong><br>
                                    ‚Ä¢ <strong>Imgur:</strong> imgur.com (upload direto, sem conta)<br>
                                    ‚Ä¢ <strong>ImgBB:</strong> imgbb.com (upload direto, sem conta)<br>
                                    ‚Ä¢ <strong>Google Drive:</strong> Partilha a imagem e use o link direto
                                </small>
                            </div>
                        </div>
                        <div class="grid grid-2">
                            <div class="form-group">
                                <label for="nome">Nome (DENTRO DE PERSONAGEM - IC)</label>
                                <input type="text" id="nome" name="nome" required>
                            </div>
                            <div class="form-group">
                                <label for="alcunha">Alcunha (DENTRO DE PERSONAGEM - IC)</label>
                                <input type="text" id="alcunha" name="alcunha" required>
                            </div>
                        </div>
                        <div class="grid grid-2">
                            <div class="form-group">
                                <label for="idade">Idade (DENTRO DE PERSONAGEM - IC)</label>
                                <input type="number" id="idade" name="idade" required>
                            </div>
                            <div class="form-group">
                                <label for="profissao">Profiss√£o (DENTRO DE PERSONAGEM - IC)</label>
                                <input type="text" id="profissao" name="profissao" required>
                            </div>
                        </div>
                        <div class="grid grid-2">
                            <div class="form-group">
                                <label for="twitch">Twitch (FORA DE PERSONAGEM - OOC)</label>
                                <input type="text" id="twitch" name="twitch" placeholder="Nome de utilizador Twitch">
                            </div>
                            <div class="form-group">
                                <label for="youtube">YouTube (FORA DE PERSONAGEM - OOC)</label>
                                <input type="text" id="youtube" name="youtube" placeholder="Canal YouTube">
                            </div>
                        </div>
                        <div class="grid grid-2">
                            <div class="form-group">
                                <label for="tiktok">TikTok (FORA DE PERSONAGEM - OOC)</label>
                                <input type="text" id="tiktok" name="tiktok" placeholder="Nome de utilizador TikTok">
                            </div>
                            <div class="form-group">
                                <label for="discord">Discord ID (FORA DE PERSONAGEM - OOC)</label>
                                <input type="text" id="discord" name="discord" placeholder="Discord ID">
                            </div>
                        </div>
                        <div class="form-navigation">
                            <span></span>
                            <button type="button" class="btn btn-primary" onclick="nextStep()">Pr√≥ximo</button>
                        </div>
                    </div>

                    <!-- PASSO 2 -->
                    <div id="step2" class="form-step">
                        <h3>PASSO 2/7: PERFIL PSICOL√ìGICO</h3>
                        <div class="form-group">
                            <label for="estilo">Estilo de Jogo Dominante</label>
                            <select id="estilo" name="estilo" required>
                                <option value="">Selecionar perfil...</option>
                                <option value="estrategico">Estratega Frio (alian√ßas por conveni√™ncia)</option>
                                <option value="social">Jogador Social (amigo de todos)</option>
                                <option value="competitivo">Competidor Feroz (focado nas provas)</option>
                                <option value="dramatico">Agente do Caos (s√≥ quero ver o circo a pegar fogo)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="gatilho">Principal Gatilho Emocional</label>
                            <select id="gatilho" name="gatilho" required>
                                <option value="">Selecionar vulnerabilidade...</option>
                                <option value="injustica">Injusti√ßa percebida</option>
                                <option value="incompetencia">Incompet√™ncia alheia</option>
                                <option value="traicao">Trai√ß√£o pessoal</option>
                                <option value="irrelevancia">Ser ignorado ou subestimado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="reacao">Resposta a Amea√ßas</label>
                            <select id="reacao" name="reacao" required>
                                <option value="">Selecionar protocolo...</option>
                                <option value="confronto">Confronto p√∫blico e imediato</option>
                                <option value="vinganca">Retalia√ß√£o calculada e secreta</option>
                                <option value="indiferenca">Indiferen√ßa estrat√©gica</option>
                                <option value="escalada">Escalada de hostilidades</option>
                            </select>
                        </div>
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" onclick="prevStep()">Anterior</button>
                            <button type="button" class="btn btn-primary" onclick="nextStep()">Pr√≥ximo</button>
                        </div>
                    </div>

                    <!-- PASSO 3 -->
                    <div id="step3" class="form-step">
                        <h3>PASSO 3/7: ESTRAT√âGIA</h3>
                        <div class="form-group">
                            <label for="lealdade">Lealdade ou 1 Milh√£o de D√≥lares?</label>
                            <select id="lealdade" name="lealdade" required>
                                <option value="">Selecionar prioridade...</option>
                                <option value="lealdade">Lealdade</option>
                                <option value="dinheiro">O Dinheiro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="alvo">Primeiro Alvo na Casa</label>
                            <select id="alvo" name="alvo" required>
                                <option value="">Selecionar alvo...</option>
                                <option value="forte">O mais forte nas provas</option>
                                <option value="popular">O mais popular</option>
                                <option value="inteligente">O mais inteligente</option>
                                <option value="fraco">O mais fraco</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="manipulacao">Descreva uma situa√ß√£o em que manipulou algu√©m para conseguir o que queria</label>
                            <textarea id="manipulacao" name="manipulacao" rows="4" required></textarea>
                        </div>
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" onclick="prevStep()">Anterior</button>
                            <button type="button" class="btn btn-primary" onclick="nextStep()">Pr√≥ximo</button>
                        </div>
                    </div>

                    <!-- PASSO 4 -->
                    <div id="step4" class="form-step">
                        <h3>PASSO 4/7: MENTIRAS E ERROS</h3>
                        <div class="form-group">
                            <label for="erro">Maior erro que j√° cometeu na vida</label>
                            <textarea id="erro" name="erro" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="mentira">Mentira mais elaborada que j√° contou e manteve</label>
                            <textarea id="mentira" name="mentira" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="inseguranca">Maior inseguran√ßa</label>
                            <textarea id="inseguranca" name="inseguranca" rows="4" required></textarea>
                        </div>
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" onclick="prevStep()">Anterior</button>
                            <button type="button" onclick="nextStep()" class="btn btn-primary">Pr√≥ximo</button>
                        </div>
                    </div>

                    <!-- PASSO 5 -->
                    <div id="step5" class="form-step">
                        <h3>PASSO 5/7: MOTIVA√á√ÉO</h3>
                        <div class="form-group">
                            <label for="motivacao">Porque √© que quer participar no ENIGMA?</label>
                            <textarea id="motivacao" name="motivacao" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="diferenca">O que o torna diferente dos outros candidatos?</label>
                            <textarea id="diferenca" name="diferenca" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="objetivo">Qual √© o seu objetivo principal no jogo?</label>
                            <textarea id="objetivo" name="objetivo" rows="4" required></textarea>
                        </div>
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" onclick="prevStep()">Anterior</button>
                            <button type="button" onclick="nextStep()" class="btn btn-primary">Pr√≥ximo</button>
                        </div>
                    </div>

                    <!-- PASSO 6 -->
                    <div id="step6" class="form-step">
                        <h3>PASSO 6/7: PERSONALIDADE</h3>
                        <div class="form-group">
                            <label for="forte">Qual √© a sua maior for√ßa?</label>
                            <textarea id="forte" name="forte" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="fraqueza">Qual √© a sua maior fraqueza?</label>
                            <textarea id="fraqueza" name="fraqueza" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="conflito">Como lida com conflitos?</label>
                            <textarea id="conflito" name="conflito" rows="4" required></textarea>
                        </div>
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" onclick="prevStep()">Anterior</button>
                            <button type="button" onclick="nextStep()" class="btn btn-primary">Pr√≥ximo</button>
                        </div>
                    </div>

                    <!-- PASSO 7 -->
                    <div id="step7" class="form-step">
                        <h3>PASSO 7/7: SUBMISS√ÉO FINAL</h3>
                        <div class="form-group">
                            <label for="buzz">Porque √© que o p√∫blico se vai conectar consigo?</label>
                            <textarea id="buzz" name="buzz" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="slogan">Slogan ou frase de efeito que o define</label>
                            <input type="text" id="slogan" name="slogan" required>
                        </div>
                                               <div class="form-group">
                           <label for="segredo">Qual √© o seu maior segredo?</label>
                           <textarea id="segredo" name="segredo" rows="4" required></textarea>
                       </div>
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" onclick="prevStep()">Anterior</button>
                            <button type="submit" class="btn btn-primary" onclick="console.log('Bot√£o clicado!')">Submeter Candidatura</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-links">
                <a onclick="openModal('regulamento')">Regulamento</a>
                <a onclick="openModal('privacidade')">Pol√≠tica de Privacidade</a>
            </div>
            <div class="social-links">
                <a href="https://www.youtube.com/@tiobixa" target="_blank" class="social-link youtube">
                    <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                    </svg>
                    <span>YouTube</span>
                </a>
                <a href="https://www.twitch.tv/tiobixa" target="_blank" class="social-link twitch">
                    <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/>
                    </svg>
                    <span>Twitch</span>
                </a>
                <a href="https://www.tiktok.com/@tiobixa" target="_blank" class="social-link tiktok">
                    <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
                    </svg>
                    <span>TikTok</span>
                </a>
            </div>
            <p style="color: var(--cor-texto-secundario); margin-top: 1rem;">
                UMA PRODU√á√ÉO ENIGMA XPERIENCE. A TUA MENTE PERTENCE-NOS AGORA.
            </p>
        </div>
    </footer>

    <!-- MODAIS -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div id="modal-content"></div>
        </div>
    </div>

    <script>
        // NAVEGA√á√ÉO SCROLL
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // FORMUL√ÅRIO MULTI-STEP
        let currentStep = 1;
        const totalSteps = 7;

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function showStep(step) {
            console.log("üîÑ Mostrando passo:", step);
            document.querySelectorAll('.form-step').forEach(s => {
                s.classList.remove('active');
                console.log("‚ùå Removido active de:", s.id);
            });
            const currentStepElement = document.getElementById('step' + step);
            if (currentStepElement) {
                currentStepElement.classList.add('active');
                console.log("‚úÖ Adicionado active a:", currentStepElement.id);
            } else {
                console.error("‚ùå Elemento n√£o encontrado: step" + step);
            }
            updateProgress();
        }

        function nextStep() {
            console.log("‚û°Ô∏è Pr√≥ximo passo. Atual:", currentStep, "Total:", totalSteps);
            if (currentStep < totalSteps) {
                currentStep++;
                console.log("üîÑ Mudando para passo:", currentStep);
                showStep(currentStep);
            } else {
                console.log("üèÅ J√° no √∫ltimo passo");
            }
        }

        function prevStep() {
            console.log("‚¨ÖÔ∏è Passo anterior. Atual:", currentStep);
            if (currentStep > 1) {
                currentStep--;
                console.log("üîÑ Mudando para passo:", currentStep);
                showStep(currentStep);
            } else {
                console.log("üèÅ J√° no primeiro passo");
            }
        }

        // MODAIS
        function openModal(type) {
            const modal = document.getElementById('modal');
            const content = document.getElementById('modal-content');
            
                               if (type === 'regulamento') {
                       content.innerHTML = `
                           <h3>Regulamento Oficial - O ENIGMA - REALITY SHOW</h3>
                           <div style="max-height: 70vh; overflow-y: auto; padding-right: 10px;">
                               <h4 style="margin-top: 2rem; margin-bottom: 1rem;">PRE√ÇMBULO</h4>
                               <p>O presente documento estabelece os termos, condi√ß√µes e regras que regem a participa√ß√£o no evento de entretenimento competitivo "O ENIGMA" (doravante "Programa"), uma produ√ß√£o da ENIGMA XPERIENCE, a ser realizado no servidor Atlantic RP. A submiss√£o de uma candidatura e a subsequente participa√ß√£o no Programa implicam a leitura, compreens√£o e aceita√ß√£o total e irrevog√°vel de todos os artigos deste regulamento. O desconhecimento das regras n√£o poder√° ser invocado como justifica√ß√£o para o seu incumprimento.</p>
                               
                               <h4 style="margin-top: 2rem; margin-bottom: 1rem;">T√çTULO I - DISPOSI√á√ïES GERAIS</h4>
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 1.¬∫ - Objeto e Dura√ß√£o</h5>
                               <ul>
                                   <li>O ENIGMA √© um concurso de formato reality show, focado em estrat√©gia, jogos psicol√≥gicos e intera√ß√£o social em ambiente de roleplay.</li>
                                   <li>O Programa decorrer√° de forma ininterrupta entre os dias 3 e 7 de Setembro de 2025.</li>
                                   <li>A produ√ß√£o, a cargo da ENIGMA XPERIENCE, reserva-se o direito de alterar as datas do evento por motivos de for√ßa maior ou por insufici√™ncia de candidaturas qualificadas, garantindo a comunica√ß√£o eficaz de quaisquer altera√ß√µes.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 2.¬∫ - Elegibilidade e Inscri√ß√£o</h5>
                               <ul>
                                   <li>Podem inscrever-se para participar no Programa todos os cidad√£os maiores de idade, ou maiores de dezasseis (16) anos devidamente autorizados por quem exer√ßa o poder paternal.</li>
                                   <li>A inscri√ß√£o √© feita exclusivamente atrav√©s do portal oficial do Programa. O candidato deve preencher todos os campos do formul√°rio de avalia√ß√£o com informa√ß√µes verdadeiras e completas.</li>
                                   <li>A ENIGMA XPERIENCE reserva-se o direito de encerrar as inscri√ß√µes a qualquer momento, a seu exclusivo crit√©rio, e de selecionar os participantes atrav√©s dos m√©todos que considerar mais adequados, n√£o se limitando aos candidatos inscritos.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 3.¬∫ - Confidencialidade e Compromisso</h5>
                               <ul>
                                   <li>O candidato e/ou participante dever√° manter o mais absoluto e estrito sigilo em rela√ß√£o a qualquer informa√ß√£o recebida ou a que tenha acesso durante o processo de casting e a sua participa√ß√£o no Programa.</li>
                                   <li>Os participantes selecionados comprometem-se a ter disponibilidade total durante os 5 (cinco) dias do Programa e a comparecer em sess√µes de grava√ß√£o de material promocional (fotos, v√≠deos) em datas a designar pela produ√ß√£o antes do in√≠cio do evento. A n√£o compar√™ncia poder√° resultar em desqualifica√ß√£o.</li>
                               </ul>
                               
                               <h4 style="margin-top: 2rem; margin-bottom: 1rem;">T√çTULO II - O JOGO E A CASA</h4>
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 4.¬∫ - O Enigma</h5>
                               <ul>
                                   <li>O Enigma √© a entidade soberana que rege a Casa e o Jogo. As suas ordens, decis√µes e interven√ß√µes s√£o absolutas, inquestion√°veis e n√£o pass√≠veis de recurso.</li>
                                   <li>Recusar uma ordem direta do Enigma, ou invocar o seu nome em v√£o de forma a perturbar a ordem, resultar√° em san√ß√µes imediatas, que podem ir desde a perda de Enigma Coins at√© √† nomea√ß√£o direta.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 5.¬∫ - Conduta e Isolamento</h5>
                               <ul>
                                   <li>√â exigido um n√≠vel de roleplay s√©rio, imersivo e de alta qualidade.</li>
                                   <li>√â estritamente proibido o uso de qualquer meio de comunica√ß√£o externo (Discord, telem√≥veis OOC, streams de outros participantes, etc.) para obter ou enviar informa√ß√£o relativa ao jogo. A viola√ß√£o desta regra √© considerada a infra√ß√£o mais grave e resulta em expuls√£o sum√°ria e imediata.</li>
                                   <li>S√£o expressamente proibidas atitudes racistas, sexistas, homof√≥bicas, xen√≥fobas, amea√ßas OOC (Out of Character), ass√©dio ou qualquer forma de discurso de √≥dio. Tais atos resultar√£o em expuls√£o imediata do Programa e potenciais san√ß√µes adicionais no servidor Atlantic RP.</li>
                                   <li>√â proibido gritar no interior da casa, exceto em atividades ou provas que o justifiquem. A discri√ß√£o √© uma ferramenta de jogo.</li>
                                   <li>√â proibido permanecer AFK (Away From Keyboard) fora da sala especificamente designada para esse efeito.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 6.¬∫ - Provas, Tarefas e Galas</h5>
                               <ul>
                                   <li>A participa√ß√£o em todas as provas designadas e a presen√ßa na √≠ntegra das Galas di√°rias (in√≠cio √†s 21:00) s√£o obrigat√≥rias.</li>
                                   <li>A aus√™ncia injustificada a uma Gala ou a recusa sistem√°tica em participar nas provas di√°rias resultar√° em nomea√ß√£o direta na Gala seguinte.</li>
                                   <li>Todos os concorrentes devem realizar as tarefas dom√©sticas que lhes forem designadas pelo Enigma ou pelo L√≠der da Casa.</li>
                               </ul>
                               
                               <h4 style="margin-top: 2rem; margin-bottom: 1rem;">T√çTULO III - MEC√ÇNICAS DE JOGO</h4>
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 7.¬∫ - Segredos</h5>
                               <ul>
                                   <li>Cada concorrente entra na Casa com um Segredo pessoal, atribu√≠do pela produ√ß√£o.</li>
                                   <li>√â expressamente proibido revelar deliberadamente o seu pr√≥prio segredo. A descoberta deve ser fruto de investiga√ß√£o, dedu√ß√£o e intera√ß√£o em roleplay.</li>
                                   <li>√â proibido perguntar diretamente a outro jogador qual √© o seu segredo.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 8.¬∫ - Enigma Coins e Economia</h5>
                               <ul>
                                   <li>A "Enigma Coin" ($) √© a moeda oficial do jogo. Todas as recompensas, apostas e penaliza√ß√µes s√£o transacionadas nesta moeda.</li>
                                   <li>Cada concorrente entrar√° na casa com um valor inicial estipulado pela produ√ß√£o.</li>
                                   <li>√â estritamente proibido transferir Enigma Coins para outros jogadores fora das mec√¢nicas oficiais do jogo (ex: pr√©mios de provas, apostas no Confronto). Todas as transa√ß√µes s√£o monitorizadas.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 9.¬∫ - O Confronto</h5>
                               <ul>
                                   <li>A mec√¢nica para tentar adivinhar um segredo, "O Confronto", √© um evento de alto risco que s√≥ pode ser iniciado com autoriza√ß√£o expl√≠cita do Enigma, geralmente durante as Galas.</li>
                                   <li><strong>Custo de Inicia√ß√£o:</strong> O jogador acusador deve pagar uma taxa de 1.000 Enigma Coins para iniciar o Confronto. Este valor √© retirado da sua conta no momento da acusa√ß√£o.</li>
                                   <li><strong>Resultado (Acerto):</strong> Se o acusador adivinhar corretamente o segredo, recebe 50% do saldo total de Enigma Coins do jogador-alvo.</li>
                                   <li><strong>Resultado (Erro):</strong> Se o acusador falhar, perde 100% do seu saldo total de Enigma Coins, que √© transferido para a conta do jogador-alvo.</li>
                                   <li>Uma vez iniciado o Confronto, n√£o h√° possibilidade de desist√™ncia. A aposta √© final.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 10.¬∫ - Nomea√ß√µes e Elimina√ß√µes</h5>
                               <ul>
                                   <li>As nomea√ß√µes ocorrem durante as Galas e seguem os m√©todos definidos pelo Enigma (ex: vota√ß√£o em confession√°rio, vota√ß√£o aberta na sala, etc.).</li>
                                   <li>Ap√≥s as nomea√ß√µes, a vota√ß√£o √© aberta ao p√∫blico atrav√©s dos canais oficiais da Twitch.</li>
                                   <li>O p√∫blico vota para expulsar o concorrente que menos deseja ver na casa. O concorrente com mais votos ser√° eliminado.</li>
                                   <li>Na Gala Final, a vota√ß√£o √© pela positiva, para eleger o grande vencedor.</li>
                               </ul>
                               
                               <h4 style="margin-top: 2rem; margin-bottom: 1rem;">T√çTULO IV - PR√âMIOS E DISPOSI√á√ïES FINAIS</h4>
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 11.¬∫ - Pr√©mio Final</h5>
                               <ul>
                                   <li>O pr√©mio final do ENIGMA ser√° uma combina√ß√£o do valor total de Enigma Coins acumulado pelos jogadores ao longo do desafio e pr√©mios adicionais (ex: um ve√≠culo exclusivo) a serem anunciados pela produ√ß√£o.</li>
                                   <li>A produ√ß√£o n√£o garante um valor m√≠nimo ou m√°ximo para o pr√©mio final, uma vez que este depende diretamente da performance e da economia gerada dentro do jogo.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 12.¬∫ - Direitos de Imagem e Conte√∫do</h5>
                               <ul>
                                   <li>Ao participar, o concorrente concede √† ENIGMA XPERIENCE e aos seus parceiros, de forma gratuita, exclusiva e definitiva, uma licen√ßa universal e irrevog√°vel para a utiliza√ß√£o, reprodu√ß√£o e difus√£o da sua imagem, nome, voz e performances (conte√∫do) captados durante todo o evento.</li>
                                   <li>Este conte√∫do poder√° ser utilizado em qualquer meio ou formato, incluindo, mas n√£o se limitando a, transmiss√µes em direto, v√≠deos compilados, redes sociais e material promocional, sem limite de tempo ou territ√≥rio.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 13.¬∫ - Casos Omissos e Altera√ß√µes</h5>
                               <ul>
                                   <li>As d√∫vidas e os casos omissos n√£o previstos neste Regulamento ser√£o analisados e decididos exclusivamente pela produ√ß√£o do ENIGMA, cujas decis√µes s√£o finais.</li>
                                   <li>A ENIGMA XPERIENCE reserva-se o direito de efetuar altera√ß√µes a este regulamento a qualquer momento, garantindo a sua divulga√ß√£o eficaz a todos os participantes.</li>
                                   <li>O presente regulamento entra em vigor na data da sua publica√ß√£o.</li>
                               </ul>
                               
                               <p style="text-align: center; margin-top: 2rem; font-weight: bold;">A Produ√ß√£o,<br>ENIGMA XPERIENCE</p>
                           </div>
                       `;
                               } else if (type === 'privacidade') {
                       content.innerHTML = `
                           <h3>Pol√≠tica de Privacidade e Consentimento de Utiliza√ß√£o de Imagem - O ENIGMA</h3>
                           <div style="max-height: 70vh; overflow-y: auto; padding-right: 10px;">
                               <p><strong>Data de Efetiva√ß√£o:</strong> [Inserir Data de Publica√ß√£o]</p>
                               <p><strong>Entidade Respons√°vel pelo Tratamento de Dados:</strong> ENIGMA XPERIENCE (doravante "Produ√ß√£o")</p>
                               
                               <h4>PRE√ÇMBULO</h4>
                               <p>A presente Pol√≠tica de Privacidade e Consentimento de Utiliza√ß√£o de Imagem (doravante "Pol√≠tica") descreve como a Produ√ß√£o do programa "O ENIGMA" (doravante "Programa") recolhe, utiliza, armazena e protege os dados pessoais e o conte√∫do de imagem e voz dos candidatos e participantes. A submiss√£o de uma candidatura atrav√©s do portal oficial do Programa constitui uma declara√ß√£o de que o candidato leu, compreendeu e consentiu de forma livre, expressa e informada com todos os termos aqui descritos.</p>
                               
                               <h4 style="margin-top: 2rem; margin-bottom: 1rem;">T√çTULO I - RECOLHA E TRATAMENTO DE DADOS PESSOAIS</h4>
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 1.¬∫ - Dados Recolhidos</h5>
                               <p>A Produ√ß√£o recolhe os seguintes dados atrav√©s do formul√°rio de avalia√ß√£o oficial:</p>
                               <ul>
                                   <li><strong>Dados de Identifica√ß√£o:</strong> Nome/Alcunha de Roleplay, idade.</li>
                                   <li><strong>Dados Biom√©tricos:</strong> Fotografias (rosto e corpo inteiro) e grava√ß√£o de v√≠deo (que inclui imagem e voz).</li>
                                   <li><strong>Dados de Perfil:</strong> Respostas ao question√°rio de avalia√ß√£o, que incluem informa√ß√µes sobre personalidade, estilo de jogo, motiva√ß√µes e outras informa√ß√µes de car√°ter subjetivo relevantes para o processo de casting.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 2.¬∫ - Finalidade do Tratamento</h5>
                               <p>Os dados pessoais recolhidos t√™m como finalidade exclusiva:</p>
                               <ul>
                                   <li>A avalia√ß√£o e sele√ß√£o de candidatos para participa√ß√£o no Programa O ENIGMA.</li>
                                   <li>A cria√ß√£o de perfis de concorrentes para uso interno da equipa de produ√ß√£o.</li>
                                   <li>O contacto com os candidatos selecionados para as fases seguintes do processo de casting e para a comunica√ß√£o de informa√ß√µes log√≠sticas.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 3.¬∫ - Confidencialidade e Seguran√ßa</h5>
                               <ul>
                                   <li>A Produ√ß√£o compromete-se a tratar todos os dados pessoais fornecidos com a m√°xima confidencialidade e a implementar as medidas t√©cnicas e organizacionais adequadas para proteger os dados contra a destrui√ß√£o, perda, altera√ß√£o, difus√£o ou acesso n√£o autorizado.</li>
                                   <li>O acesso aos dados pessoais √© restrito √† equipa de produ√ß√£o do ENIGMA diretamente envolvida no processo de casting e realiza√ß√£o do Programa.</li>
                                   <li>Os dados pessoais n√£o ser√£o partilhados, vendidos ou alugados a terceiros n√£o afiliados √† produ√ß√£o do Programa sem o consentimento expl√≠cito do titular dos dados.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 4.¬∫ - Per√≠odo de Conserva√ß√£o</h5>
                               <p>Os dados pessoais dos candidatos n√£o selecionados ser√£o eliminados de forma segura num prazo m√°ximo de 90 (noventa) dias ap√≥s o t√©rmino do Programa. Os dados dos participantes selecionados ser√£o conservados pelo per√≠odo necess√°rio para cumprir as finalidades de produ√ß√£o e arquivo do Programa, conforme descrito no T√≠tulo II.</p>
                               
                               <h4 style="margin-top: 2rem; margin-bottom: 1rem;">T√çTULO II - CONSENTIMENTO DE UTILIZA√á√ÉO DE IMAGEM E CONTE√öDO</h4>
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 5.¬∫ - Defini√ß√£o de "Conte√∫do"</h5>
                               <p>Para os efeitos desta Pol√≠tica, entende-se por "Conte√∫do" toda e qualquer imagem (fixa ou em movimento), grava√ß√£o de voz, nome, persona de roleplay, performances, declara√ß√µes e qualquer outra forma de express√£o pessoal captada durante o processo de sele√ß√£o e/ou a participa√ß√£o efetiva no Programa.</p>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 6.¬∫ - Concess√£o da Licen√ßa</h5>
                               <ul>
                                   <li>Ao submeter a candidatura, o candidato concede √† ENIGMA XPERIENCE, e a quaisquer terceiros por ela designados, uma licen√ßa de utiliza√ß√£o do seu Conte√∫do em car√°ter exclusivo, definitivo, universal, irrevog√°vel e gratuito.</li>
                                   <li>Esta licen√ßa √© concedida de forma volunt√°ria e informada, reconhecendo o candidato que a sua participa√ß√£o no Programa √© de natureza p√∫blica e que a exposi√ß√£o medi√°tica √© um elemento intr√≠nseco do mesmo.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 7.¬∫ - √Çmbito e Finalidades da Utiliza√ß√£o do Conte√∫do</h5>
                               <p>A licen√ßa concedida no artigo anterior abrange o direito de captar, gravar, editar, modificar, reproduzir, distribuir e difundir publicamente o Conte√∫do, na sua totalidade ou em extratos, para as seguintes finalidades:</p>
                               <ul>
                                   <li><strong>Produ√ß√£o e Transmiss√£o do Programa:</strong> Incluindo, mas n√£o se limitando a, transmiss√µes em direto na plataforma Twitch.tv e outras plataformas de streaming.</li>
                                   <li><strong>Cria√ß√£o de Obras Derivadas:</strong> Edi√ß√£o e compila√ß√£o de v√≠deos para publica√ß√£o em plataformas como o YouTube, incluindo "melhores momentos", resumos di√°rios, epis√≥dios completos, etc.</li>
                                   <li><strong>Promo√ß√£o e Marketing:</strong> Utiliza√ß√£o do Conte√∫do em todo o material de publicidade e marketing do Programa, em qualquer meio ou formato, incluindo redes sociais (Twitter/X, Instagram, TikTok, etc.), websites e outros canais de comunica√ß√£o.</li>
                                   <li><strong>Arquivo Hist√≥rico:</strong> Inclus√£o do Conte√∫do no arquivo hist√≥rico da ENIGMA XPERIENCE e do Programa O ENIGMA.</li>
                               </ul>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 8.¬∫ - Ren√∫ncia a Direitos</h5>
                               <p>O candidato renuncia expressamente a qualquer direito de inspecionar ou aprovar o produto final em que o seu Conte√∫do seja utilizado, bem como a qualquer compensa√ß√£o monet√°ria ou de outra natureza pela utiliza√ß√£o do mesmo, para al√©m dos pr√©mios estipulados no Regulamento Oficial do Programa.</p>
                               
                               <h4 style="margin-top: 2rem; margin-bottom: 1rem;">T√çTULO III - DIREITOS DO TITULAR DOS DADOS E DISPOSI√á√ïES FINAIS</h4>
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 9.¬∫ - Direitos do Candidato</h5>
                               <p>Em conformidade com a legisla√ß√£o de prote√ß√£o de dados aplic√°vel, o candidato pode exercer os seus direitos de acesso, retifica√ß√£o ou elimina√ß√£o dos seus dados pessoais (excetuando o Conte√∫do licenciado, conforme Art. 6.¬∫), contactando a Produ√ß√£o atrav√©s dos canais oficiais. A elimina√ß√£o dos dados durante o processo de casting implica a anula√ß√£o da candidatura.</p>
                               
                               <h5 style="margin-top: 1.5rem; margin-bottom: 1rem;">Artigo 10.¬∫ - Altera√ß√µes √† Pol√≠tica</h5>
                               <ul>
                                   <li>A Produ√ß√£o reserva-se o direito de alterar a presente Pol√≠tica a qualquer momento. Quaisquer altera√ß√µes entrar√£o em vigor imediatamente ap√≥s a sua publica√ß√£o no portal oficial do Programa.</li>
                                   <li>A submiss√£o da candidatura confirma que o candidato √© maior de idade (ou possui autoriza√ß√£o parental, se aplic√°vel) e que consente de forma inequ√≠voca com todos os termos e condi√ß√µes aqui estabelecidos.</li>
                               </ul>
                               
                               <p style="text-align: center; margin-top: 2rem; font-weight: bold;">A Produ√ß√£o,<br>ENIGMA XPERIENCE</p>
                                                        </div>
                         `;
            }
            
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        // FECHAR MODAL AO CLICAR FORA
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // SUBMISS√ÉO DO FORMUL√ÅRIO - Movida para setupFormSubmission() ap√≥s Supabase estar pronto

        // INICIALIZAR PROGRESSO
        updateProgress();

        // COUNTDOWN TIMERS
        function updateCountdowns() {
            const now = new Date();
            
            // Candidaturas: 13 Agosto 2025 00:00H - 20 Agosto 2025 23:59H
            const candidaturasOpen = new Date('2025-09-13T00:00:00');
            const candidaturasClose = new Date('2025-09-23T23:59:00');
            
            // Estreia: 3 Setembro 2025 21:00H - 7 Setembro 2025 23:59H
            const estreiaStart = new Date('2025-10-01T21:00:00');
            const estreiaEnd = new Date('2025-10-05T23:59:00');
            
            // Candidaturas countdown
            if (now < candidaturasOpen) {
                // Ainda n√£o abriram
                const timeLeft = candidaturasOpen - now;
                updateCountdownDisplay('candidaturas', timeLeft, 'Abrem Brevemente...');
            } else if (now >= candidaturasOpen && now <= candidaturasClose) {
                // Est√£o abertas
                const timeLeft = candidaturasClose - now;
                updateCountdownDisplay('candidaturas', timeLeft, 'Candidaturas abertas! Fecham em breve...');
            } else {
                // J√° fecharam
                updateCountdownDisplay('candidaturas', 0, 'Candidaturas encerradas');
            }
            
            // Estreia countdown
            if (now < estreiaStart) {
                // Ainda n√£o come√ßou
                const timeLeft = estreiaStart - now;
                updateCountdownDisplay('estreia', timeLeft, 'A estreia est√° a chegar...');
            } else if (now >= estreiaStart && now <= estreiaEnd) {
                // Est√° a decorrer
                const timeLeft = estreiaEnd - now;
                updateCountdownDisplay('estreia', timeLeft, 'O ENIGMA est√° a decorrer! Termina em breve...');
            } else {
                // J√° terminou
                updateCountdownDisplay('estreia', 0, 'O ENIGMA terminou');
            }
        }
        
        function updateCountdownDisplay(type, timeLeft, status) {
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
            
            if (timeLeft > 0) {
                document.getElementById(type + '-days').textContent = days.toString().padStart(2, '0');
                document.getElementById(type + '-hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById(type + '-minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById(type + '-seconds').textContent = seconds.toString().padStart(2, '0');
            } else {
                document.getElementById(type + '-days').textContent = '00';
                document.getElementById(type + '-hours').textContent = '00';
                document.getElementById(type + '-minutes').textContent = '00';
                document.getElementById(type + '-seconds').textContent = '00';
            }
            
            document.getElementById(type + '-status').textContent = status;
        }
        
        // Atualizar countdowns a cada segundo
        setInterval(updateCountdowns, 1000);
        
        // Inicializar countdowns
        updateCountdowns();
    </script>
</body>
</html>
